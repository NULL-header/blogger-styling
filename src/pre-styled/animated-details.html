<html schema="component">

<head>
    <template>
        <style>
            @keyframes openAnim {
                from {
                    opacity: 0;
                    transform: translateY(-100%);
                }

                to {
                    opacity: 1;
                    transform: translateY(0%);
                }
            }

            @keyframes closeAnim {
                from {
                    opacity: 1;
                    transform: translateY(0%);
                }

                to {
                    opacity: 0;
                    transform: translateY(-100%);
                }
            }

            .outer {
                animation-duration: 200ms;
                animation-timing-function: ease-in-out;
                margin: 0;
            }

            animated-details::part(summary) {
                list-style: none;
                cursor: pointer;
            }

            div[slot=summary] {
                height: max-content;
                display: flex;
                align-items: center;
            }

            div[slot=summary] p {
                flex-grow: 1;
            }

            div[slot=summary] div {
                height: 1.2em;
                margin-right: 10%;
            }

            div[slot=summary] path {
                transform: translateX(-40%) translateY(50%) scale(180%);
            }

            div[slot=summary] svg {
                height: 100%;
                transform: rotate(0deg);
                transition-property: transform;
                transition-duration: 200ms;
                transition-timing-function: ease-in-out;
            }

            animated-details:state(open) div[slot=summary] svg {
                transform: rotate(180deg);
            }
        </style>
        <animated-details data-open-keyframe="openAnim" data-close-keyframe="closeAnim">
            <div slot="summary">
                <p data-title part="title"></p>
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" viewBox="0 -960 960 960"
                        fill="#e8eaed">
                        <path d="M480-344 240-584l47.33-47.33L480-438.67l192.67-192.66L720-584 480-344Z" />
                    </svg>
                </div>
            </div>
            <div class="outer" part="content-outer">
                <slot part="content"></slot>
            </div>
        </animated-details>
    </template>
    <script>
        import "./pure-animated-details.js";

        class AnimatedDetails extends HTMLElement {
            constructor() {
                super()
                const template = document.createElement("template");
                template.innerHTML = __MARKER__;
                const shadow = this.attachShadow({ mode: "open" })
                shadow.appendChild(template.content.cloneNode(true))
                const summary = shadow.querySelector("*[data-title]")
                this.summary = summary;
            }

            connectedCallback() {
                const title = this.dataset.title;
                console.log(title)
                if (title == null) return;
                this.summary.innerHTML = title;
            }
        }
        customElements.define("pre-styled-animated-details", AnimatedDetails)
    </script>
</head>

</html>